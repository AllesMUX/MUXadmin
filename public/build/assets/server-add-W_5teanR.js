import{M as r}from"./api-CsYPoTg1.js";window.MUXapi=new r;window.addEventListener("load",function(){const t=document.getElementById("serverForm"),e=document.getElementById("protocol"),s=document.getElementById("ipv4"),a=document.getElementById("port"),i=document.getElementById("worker_port");t.addEventListener("submit",async function(n){n.preventDefault(),n.stopPropagation();let l=!1;if((t.checkValidity()===!1||!d(s)||!u(a,i))&&(l=!0),t.classList.add("was-validated"),!l){const o=await window.MUXapi.AddServer(e.value,s.value,a.value,i.value);o.status?window.location.reload(!1):alert(o.error);return}},!1)},!1);function d(t){return/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(t.value)?(t.setCustomValidity(""),!0):(t.setCustomValidity("Invalid"),!1)}function u(t,e){const s=/^([1-9][0-9]{0,3}|[1-5][0-9]{4}|6[0-4][0-9]{3}|65[0-4][0-9]{2}|655[0-2][0-9]|6553[0-5])$/;let a=!0;return s.test(t.value)?t.setCustomValidity(""):(t.setCustomValidity("Invalid"),a=!1),s.test(e.value)?e.setCustomValidity(""):(e.setCustomValidity("Invalid"),a=!1),a}
